<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Notation AI - Enhanced Highlighting Test</title>
    <style>
        body {
            font-family: 'Times New Roman', serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
        }
        .highlight-instruction {
            background: #e3f2fd;
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 15px;
            font-size: 14px;
        }
        .math-content {
            font-size: 16px;
            margin: 15px 0;
        }
        h2 {
            color: #1976d2;
        }
    </style>
</head>
<body>
    <h1>ğŸ§® Math Notation AI - Enhanced Highlighting Test Page</h1>
    <p><strong>Instructions:</strong> Load your Math Notation AI extension and test highlighting different lengths of mathematical content below.</p>

    <div class="test-section">
        <h2>Test 1: Single Symbols</h2>
        <div class="highlight-instruction">
            ğŸ“ Try highlighting each symbol individually:
        </div>
        <div class="math-content">
            The integral âˆ« represents the area under a curve. The gradient âˆ‡ shows the direction of steepest increase. 
            The Laplacian Î” measures the divergence of the gradient. Greek letters like Î±, Î², Î³ are commonly used as parameters.
        </div>
    </div>

    <div class="test-section">
        <h2>Test 2: Mathematical Expressions</h2>
        <div class="highlight-instruction">
            ğŸ“ Try highlighting these expressions:
        </div>
        <div class="math-content">
            Consider the expression âˆ‡u which represents the gradient of function u. 
            The norm |âˆ‡u| gives the magnitude of the gradient.
            The power |âˆ‡u|^p creates a nonlinear term in PDEs.
        </div>
    </div>

    <div class="test-section">
        <h2>Test 3: Complete Equations</h2>
        <div class="highlight-instruction">
            ğŸ“ Try highlighting entire equations:
        </div>
        <div class="math-content">
            The p-Laplacian equation âˆ’Î”u = |âˆ‡u|^p appears in nonlinear analysis.
            <br><br>
            The boundary condition u = 0 on âˆ‚Î© specifies Dirichlet conditions.
            <br><br>
            The eigenvalue problem âˆ’Î”u = Î»u has solutions in LÂ²(Î©).
        </div>
    </div>

    <div class="test-section">
        <h2>Test 4: Complex Mathematical Paragraphs</h2>
        <div class="highlight-instruction">
            ğŸ“ Try highlighting this entire paragraph:
        </div>
        <div class="math-content">
            Let Î© âŠ‚ â„â¿ be a bounded domain with smooth boundary âˆ‚Î©. We consider the nonlinear elliptic equation 
            âˆ’Î”u = f(x,u,âˆ‡u) in Î© with homogeneous Dirichlet boundary conditions u = 0 on âˆ‚Î©. 
            Under suitable growth conditions on f, we prove existence of weak solutions u âˆˆ Hâ‚€Â¹(Î©) 
            using variational methods and the mountain pass theorem.
        </div>
    </div>

    <div class="test-section">
        <h2>Test 5: LaTeX-style Notation</h2>
        <div class="highlight-instruction">
            ğŸ“ Try highlighting LaTeX commands and complex expressions:
        </div>
        <div class="math-content">
            The fraction \frac{âˆ‚u}{âˆ‚t} represents a partial derivative.
            <br><br>
            The sum \sum_{i=1}^n a_i x_i is a linear combination.
            <br><br>
            The integral \int_Î© |âˆ‡u|Â² dx defines the Dirichlet energy.
        </div>
    </div>

    <div class="test-section">
        <h2>Test 6: Mixed Content</h2>
        <div class="highlight-instruction">
            ğŸ“ Try highlighting parts of this mixed mathematical text:
        </div>
        <div class="math-content">
            In functional analysis, we study spaces like L^p(Î©) where 1 â‰¤ p â‰¤ âˆ. 
            The Sobolev space HÂ¹(Î©) consists of functions u such that both u and âˆ‡u are in LÂ²(Î©). 
            The embedding HÂ¹(Î©) â†ª L^q(Î©) holds for q â‰¤ 2* where 2* = 2n/(n-2) is the critical Sobolev exponent.
        </div>
    </div>

    <div class="test-section">
        <h2>Expected Behavior</h2>
        <ul>
            <li><strong>Single symbols (âˆ«, âˆ‡, Î”):</strong> Should get concise definitions</li>
            <li><strong>Expressions (âˆ‡u, |âˆ‡u|^p):</strong> Should explain what the expression represents</li>
            <li><strong>Equations (âˆ’Î”u = f):</strong> Should explain the equation and its mathematical significance</li>
            <li><strong>Long paragraphs:</strong> Should explain the overall mathematical concept</li>
            <li><strong>Tooltip sizing:</strong> Should expand to accommodate longer explanations</li>
            <li><strong>Scrolling:</strong> Very long explanations should be scrollable within the tooltip</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>ğŸ¯ Success Criteria</h2>
        <p>âœ… <strong>Your extension passes if:</strong></p>
        <ul>
            <li>Single symbols get brief, focused explanations</li>
            <li>Expressions get contextual explanations of what they represent</li>
            <li>Full equations get comprehensive explanations including mathematical field</li>
            <li>Long paragraphs get explanations of the overall mathematical concepts</li>
            <li>Tooltips resize appropriately for different content lengths</li>
            <li>All explanations are clear, accurate, and educational</li>
        </ul>
    </div>

    <script>
        // Add some visual feedback for testing
        document.addEventListener('mouseup', function() {
            const selection = window.getSelection().toString().trim();
            if (selection) {
                console.log('Selected text:', selection);
                console.log('Length:', selection.length);
                console.log('Should trigger Math Notation AI:', selection.length >= 1 && selection.length <= 500);
            }
        });
    </script>
</body>
</html>
